{"ast":null,"code":"// Taskslist.js\nimport React,{useEffect,useState}from\"react\";import axios from\"axios\";import'./TasksList.css';import{Link}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TasksList=()=>{const[tasks,setTasks]=useState([]);useEffect(()=>{axios.get('http://localhost:3000/api/tasks').then(response=>{if(Array.isArray(response.data)){setTasks(response.data);}else{console.error('Api didnt return an array of tasks',response.data);}}).catch(error=>{console.error('There was an error fetching the tasks!',error);});},[]);const handleEdit=id=>{useEffect(()=>{axios.put('http://localhost:3000/api/tasks/:id').then(response=>{if(Array.isArray(response.data)){setTasks(response.data);}else{console.error('Api didnt return an array of task',response.data);}}).catch(error=>{console.error('There was an error fetching the task!',error);});},[]);};const handleDelete=id=>{useEffect(()=>{axios.delete('http://localhost:3000/api/tasks/:id').then(response=>{if(Array.isArray(response.data)){setTasks(response.data);}else{console.error('Api didnt return an array of task',response.data);}}).catch(error=>{console.error('There was an error fetching the task!',error);});},[]);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\" Tasks List \"}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/tasks\",children:\"Create New Task\"})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"})}),/*#__PURE__*/_jsxs(\"table\",{class:\"tasks-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Task Title\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Priority\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:tasks.map(task=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:task.title}),/*#__PURE__*/_jsx(\"td\",{children:task.status}),/*#__PURE__*/_jsx(\"td\",{children:task.priority}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(task._id),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(task._id),children:\"Delete\"})]})]},task._id))})]})]});};export default TasksList;","map":{"version":3,"names":["React","useEffect","useState","axios","Link","jsx","_jsx","jsxs","_jsxs","TasksList","tasks","setTasks","get","then","response","Array","isArray","data","console","error","catch","handleEdit","id","put","handleDelete","delete","children","to","class","map","task","title","status","priority","onClick","_id"],"sources":["D:/taskapp/task-frontend/src/components/TaskList.js"],"sourcesContent":["// Taskslist.js\r\nimport React, {useEffect, useState} from \"react\";\r\nimport axios from \"axios\";\r\nimport './TasksList.css';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst TasksList = () => {\r\n    const [tasks, setTasks] = useState([]);\r\n    useEffect(() => {\r\n        axios.get('http://localhost:3000/api/tasks')\r\n        .then(response => {\r\n            if (Array.isArray(response.data)) {\r\n                setTasks(response.data);\r\n            }\r\n            else {\r\n                console.error('Api didnt return an array of tasks', response.data);\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.error('There was an error fetching the tasks!', error);\r\n        });\r\n    }, []);\r\n\r\n    const handleEdit = (id) => {\r\n        useEffect(() => {\r\n            axios.put('http://localhost:3000/api/tasks/:id')\r\n            .then(response => {\r\n                if (Array.isArray(response.data)) {\r\n                    setTasks(response.data);\r\n                }\r\n                else {\r\n                    console.error('Api didnt return an array of task', response.data);\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.error('There was an error fetching the task!', error);\r\n            });\r\n        }, []);\r\n    };\r\n    const handleDelete = (id) => {\r\n        useEffect(() => {\r\n            axios.delete('http://localhost:3000/api/tasks/:id')\r\n            .then(response => {\r\n                if (Array.isArray(response.data)) {\r\n                    setTasks(response.data);\r\n                }\r\n                else {\r\n                    console.error('Api didnt return an array of task', response.data);\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.error('There was an error fetching the task!', error);\r\n            });\r\n        }, []);\r\n    };\r\n    \r\n    return (\r\n        <div>\r\n            <h1> Tasks List </h1>\r\n            <p><Link to='/tasks'>Create New Task</Link></p>\r\n            <p><Link to=\"/\">Home</Link></p>\r\n            <table class=\"tasks-table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Task Title</th>\r\n                        <th>Status</th>\r\n                        <th>Priority</th>\r\n                        <th>Actions</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {tasks.map(task => (\r\n                    <tr key={task._id}>\r\n                        <td>{task.title}</td>\r\n                        <td>{task.status}</td>\r\n                        <td>{task.priority}</td>\r\n                        <td>\r\n                            <button onClick={() => handleEdit(task._id)}>Edit</button>\r\n                            <button onClick={() => handleDelete(task._id)}>Delete</button>\r\n                        </td>\r\n                    </tr>\r\n                    ))}                    \r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n};\r\nexport default TasksList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}