{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import{fetchToken}from\"../components/Auth/auth\";import'../assets/styles/subtasksList.css';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";console.log('Subtaskslist page is requested..');const SubTasksList=()=>{const{taskId}=useParams();const[subtasks,setSubtasks]=useState([]);const[taskTitle,setTaskTitle]=useState('');console.log('subtask page is calling');useEffect(()=>{console.log('useeffect function executing');if(!taskId){console.error('No taskId found');return;}const fetchSubTasks=async()=>{try{const token=await fetchToken();console.log('token is',token);const response=await fetch(\"http://localhost:3002/api/subtasks/\".concat(taskId),{headers:{'x-auth-token':token}});if(!response.ok){throw new Error('Failed to fetch subtasks');}const data=await response.json();console.log(\"API response data\",data);if(data&&Array.isArray(data)){setSubtasks(data.subtasks);console.log(\"subtasks list\",data);}else{setSubtasks([]);console.log('No subtasks found');}setTaskTitle(data.title||\"Untitled Task\");}catch(err){console.error('Error while fetching Subtasks',err);setSubtasks([]);}};fetchSubTasks();},[taskId]);return/*#__PURE__*/_jsxs(\"div\",{className:\"subtasks-list-container\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Subtasks for \",taskTitle]}),/*#__PURE__*/_jsx(\"div\",{className:\"subtasks-table\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Subtask Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Due Date\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:subtasks.length>0?subtasks.map(subtask=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:subtask.name}),/*#__PURE__*/_jsx(\"td\",{children:subtask.status}),/*#__PURE__*/_jsx(\"td\",{children:new Date(subtask.dueDate).toLocaleDateString()})]},subtask._id)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"3\",children:\"No subtasks available\"})})})]})})]});};export default SubTasksList;","map":{"version":3,"names":["React","useEffect","useState","useParams","fetchToken","jsxs","_jsxs","jsx","_jsx","console","log","SubTasksList","taskId","subtasks","setSubtasks","taskTitle","setTaskTitle","error","fetchSubTasks","token","response","fetch","concat","headers","ok","Error","data","json","Array","isArray","title","err","className","children","length","map","subtask","name","status","Date","dueDate","toLocaleDateString","_id","colSpan"],"sources":["D:/taskapp/task-frontend/src/pages/SubtasksList.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { fetchToken } from \"../components/Auth/auth\";\r\nimport '../assets/styles/subtasksList.css';\r\n\r\nconsole.log('Subtaskslist page is requested..');\r\nconst SubTasksList = () => {\r\n    const { taskId } = useParams();\r\n    const [subtasks, setSubtasks] = useState([]);\r\n    const [taskTitle, setTaskTitle] = useState('');\r\n    console.log('subtask page is calling');\r\n\r\n    useEffect(() => {\r\n        console.log('useeffect function executing');\r\n        \r\n        if (!taskId) {\r\n            console.error('No taskId found');\r\n            return;\r\n        }\r\n\r\n        const fetchSubTasks = async () => {\r\n            try {\r\n                const token = await fetchToken();\r\n                console.log('token is', token);\r\n                \r\n                const response = await fetch(`http://localhost:3002/api/subtasks/${taskId}`, {\r\n                    headers: {\r\n                        'x-auth-token': token,\r\n                    }\r\n                });\r\n\r\n                if (!response.ok) {\r\n                    throw new Error('Failed to fetch subtasks');\r\n                }\r\n\r\n                const data = await response.json();\r\n                console.log(\"API response data\", data);\r\n\r\n                if (data && Array.isArray(data)) {\r\n                    setSubtasks(data.subtasks);\r\n                    console.log(\"subtasks list\", data);\r\n                } else {\r\n                    setSubtasks([]);\r\n                    console.log('No subtasks found');\r\n                }\r\n\r\n                setTaskTitle(data.title || \"Untitled Task\");\r\n            }\r\n            catch (err) {\r\n                console.error('Error while fetching Subtasks', err);\r\n                setSubtasks([]);\r\n            }\r\n        };\r\n        fetchSubTasks();\r\n    }, [taskId]);\r\n\r\n    return (\r\n        <div className=\"subtasks-list-container\">\r\n            <h1>Subtasks for {taskTitle}</h1>\r\n            <div className=\"subtasks-table\">\r\n                <table>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Subtask Name</th>\r\n                            <th>Status</th>\r\n                            <th>Due Date</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {subtasks.length > 0 ? (\r\n                            subtasks.map((subtask) => (\r\n                                <tr key={subtask._id}>\r\n                                    <td>{subtask.name}</td>\r\n                                    <td>{subtask.status}</td>\r\n                                    <td>{new Date(subtask.dueDate).toLocaleDateString()}</td>\r\n                                </tr>\r\n                            ))\r\n                        ) : (\r\n                            <tr>\r\n                                <td colSpan=\"3\">No subtasks available</td>\r\n                            </tr>\r\n                        )}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SubTasksList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}