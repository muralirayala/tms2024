{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Pie}from\"react-chartjs-2\";import axios from\"axios\";import{Chart as ChartJS,ArcElement,Tooltip,Legend}from\"chart.js\";import'../assets/styles/TaskChart.css';// Import the CSS file\n// Register chart elements\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(ArcElement,Tooltip,Legend);const TaskChart=()=>{const[chartData,setChartData]=useState({labels:[],datasets:[{label:\"Task Status\",data:[],backgroundColor:[\"#36A2EB\",\"#FFCE56\",\"#FF6384\"],hoverBackgroundColor:[\"#36A2EB\",\"#FFCE56\",\"#FF6384\"]}]});const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const fetchData=async()=>{try{const response=await axios.get(\"http://localhost:3005/api/chart-data?type=pie\");const data=response.data;console.log(\"response\",data);setChartData({labels:[\"Completed\",\"In Progress\",\"Pending\"],datasets:[{label:\"Task Status\",data:[data.completed,data.in_progress,data.pending],backgroundColor:[\"#36A2EB\",\"#FFCE56\",\"#FF6384\"],hoverBackgroundColor:[\"#36A2EB\",\"#FFCE56\",\"#FF6384\"]}]});}catch(err){console.error(\"Error fetching chart data\",err);setError(\"Failed to load chart data.\");}finally{setLoading(false);}};fetchData();},[]);if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading Chart...\"});}if(error){return/*#__PURE__*/_jsx(\"div\",{children:error});}return/*#__PURE__*/_jsx(\"div\",{className:\"chart-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"chart-wrapper\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Task Status Pie Chart\"}),/*#__PURE__*/_jsx(Pie,{data:chartData})]})});};export default TaskChart;","map":{"version":3,"names":["React","useEffect","useState","Pie","axios","Chart","ChartJS","ArcElement","Tooltip","Legend","jsx","_jsx","jsxs","_jsxs","register","TaskChart","chartData","setChartData","labels","datasets","label","data","backgroundColor","hoverBackgroundColor","loading","setLoading","error","setError","fetchData","response","get","console","log","completed","in_progress","pending","err","children","className"],"sources":["D:/taskapp/task-frontend/src/components/TaskChart.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Pie } from \"react-chartjs-2\";\r\nimport axios from \"axios\";\r\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend } from \"chart.js\";\r\nimport '../assets/styles/TaskChart.css'; // Import the CSS file\r\n\r\n// Register chart elements\r\nChartJS.register(ArcElement, Tooltip, Legend);\r\n\r\nconst TaskChart = () => {\r\n  const [chartData, setChartData] = useState({\r\n    labels: [],\r\n    datasets: [\r\n      {\r\n        label: \"Task Status\",\r\n        data: [],\r\n        backgroundColor: [\"#36A2EB\", \"#FFCE56\", \"#FF6384\"],\r\n        hoverBackgroundColor: [\"#36A2EB\", \"#FFCE56\", \"#FF6384\"],\r\n      },\r\n    ],\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await axios.get(\r\n          \"http://localhost:3005/api/chart-data?type=pie\"\r\n        );\r\n        const data = response.data;\r\n        console.log(\"response\", data);\r\n\r\n        setChartData({\r\n          labels: [\"Completed\", \"In Progress\", \"Pending\"],\r\n          datasets: [\r\n            {\r\n              label: \"Task Status\",\r\n              data: [data.completed, data.in_progress, data.pending],\r\n              backgroundColor: [\"#36A2EB\", \"#FFCE56\", \"#FF6384\"],\r\n              hoverBackgroundColor: [\"#36A2EB\", \"#FFCE56\", \"#FF6384\"],\r\n            },\r\n          ],\r\n        });\r\n      } catch (err) {\r\n        console.error(\"Error fetching chart data\", err);\r\n        setError(\"Failed to load chart data.\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return <div>Loading Chart...</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div>{error}</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"chart-container\">\r\n      <div className=\"chart-wrapper\">\r\n        <h2>Task Status Pie Chart</h2>\r\n        <Pie data={chartData} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TaskChart;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,GAAG,KAAQ,iBAAiB,CACrC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,KAAK,GAAI,CAAAC,OAAO,CAAEC,UAAU,CAAEC,OAAO,CAAEC,MAAM,KAAQ,UAAU,CACxE,MAAO,gCAAgC,CAAE;AAEzC;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACAP,OAAO,CAACQ,QAAQ,CAACP,UAAU,CAAEC,OAAO,CAAEC,MAAM,CAAC,CAE7C,KAAM,CAAAM,SAAS,CAAGA,CAAA,GAAM,CACtB,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGf,QAAQ,CAAC,CACzCgB,MAAM,CAAE,EAAE,CACVC,QAAQ,CAAE,CACR,CACEC,KAAK,CAAE,aAAa,CACpBC,IAAI,CAAE,EAAE,CACRC,eAAe,CAAE,CAAC,SAAS,CAAE,SAAS,CAAE,SAAS,CAAC,CAClDC,oBAAoB,CAAE,CAAC,SAAS,CAAE,SAAS,CAAE,SAAS,CACxD,CAAC,CAEL,CAAC,CAAC,CACF,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGvB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACwB,KAAK,CAAEC,QAAQ,CAAC,CAAGzB,QAAQ,CAAC,IAAI,CAAC,CAExCD,SAAS,CAAC,IAAM,CACd,KAAM,CAAA2B,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAzB,KAAK,CAAC0B,GAAG,CAC9B,+CACF,CAAC,CACD,KAAM,CAAAT,IAAI,CAAGQ,QAAQ,CAACR,IAAI,CAC1BU,OAAO,CAACC,GAAG,CAAC,UAAU,CAAEX,IAAI,CAAC,CAE7BJ,YAAY,CAAC,CACXC,MAAM,CAAE,CAAC,WAAW,CAAE,aAAa,CAAE,SAAS,CAAC,CAC/CC,QAAQ,CAAE,CACR,CACEC,KAAK,CAAE,aAAa,CACpBC,IAAI,CAAE,CAACA,IAAI,CAACY,SAAS,CAAEZ,IAAI,CAACa,WAAW,CAAEb,IAAI,CAACc,OAAO,CAAC,CACtDb,eAAe,CAAE,CAAC,SAAS,CAAE,SAAS,CAAE,SAAS,CAAC,CAClDC,oBAAoB,CAAE,CAAC,SAAS,CAAE,SAAS,CAAE,SAAS,CACxD,CAAC,CAEL,CAAC,CAAC,CACJ,CAAE,MAAOa,GAAG,CAAE,CACZL,OAAO,CAACL,KAAK,CAAC,2BAA2B,CAAEU,GAAG,CAAC,CAC/CT,QAAQ,CAAC,4BAA4B,CAAC,CACxC,CAAC,OAAS,CACRF,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAEDG,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,EAAE,CAAC,CAEN,GAAIJ,OAAO,CAAE,CACX,mBAAOb,IAAA,QAAA0B,QAAA,CAAK,kBAAgB,CAAK,CAAC,CACpC,CAEA,GAAIX,KAAK,CAAE,CACT,mBAAOf,IAAA,QAAA0B,QAAA,CAAMX,KAAK,CAAM,CAAC,CAC3B,CAEA,mBACEf,IAAA,QAAK2B,SAAS,CAAC,iBAAiB,CAAAD,QAAA,cAC9BxB,KAAA,QAAKyB,SAAS,CAAC,eAAe,CAAAD,QAAA,eAC5B1B,IAAA,OAAA0B,QAAA,CAAI,uBAAqB,CAAI,CAAC,cAC9B1B,IAAA,CAACR,GAAG,EAACkB,IAAI,CAAEL,SAAU,CAAE,CAAC,EACrB,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAD,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}